
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Utility Functions &#8212; SDOM v0.0.11</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=0c446633"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/utilities';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sdom.load_data" href="_autosummary/sdom.load_data.html" />
    <link rel="prev" title="Data I/O Manager" href="io_manager.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.0.11" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">SDOM Documentation</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/introduction.html">
    Introduction to SDOM
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/inputs.html">
    SDOM Input Data
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/running_and_outputs.html">
    Running SDOM and Understanding Outputs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/exploring_model.html">
    Exploring the Pyomo Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/sdom_math_formulation.html">
    SDOM Formulation
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="index.html">
    API Reference
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="core.html">
    Core Optimization Functions
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="results.html">
    Results Module
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="models.html">
    Model Formulations
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="io_manager.html">
    Data I/O Manager
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="#">
    Utility Functions
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../sdom_Developers_guide.html">
    GUIDELINES FOR DEVELOPING SDOM
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../sdom_publications.html">
    PUBLICATIONS AND USE CASES OF SDOM
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://github.com/Omar0902/SDOM">
    GitHub Repository
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Omar0902/SDOM" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/introduction.html">
    Introduction to SDOM
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/inputs.html">
    SDOM Input Data
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/running_and_outputs.html">
    Running SDOM and Understanding Outputs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/exploring_model.html">
    Exploring the Pyomo Model
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/sdom_math_formulation.html">
    SDOM Formulation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="core.html">
    Core Optimization Functions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="results.html">
    Results Module
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="models.html">
    Model Formulations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="io_manager.html">
    Data I/O Manager
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Utility Functions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../sdom_Developers_guide.html">
    GUIDELINES FOR DEVELOPING SDOM
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../sdom_publications.html">
    PUBLICATIONS AND USE CASES OF SDOM
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Omar0902/SDOM">
    GitHub Repository
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Omar0902/SDOM" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Utility Functions</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="utility-functions">
<h1>Utility Functions<a class="headerlink" href="#utility-functions" title="Link to this heading">#</a></h1>
<p>Helper functions and utilities used throughout SDOM.</p>
<section id="pyomo-utilities">
<h2>Pyomo Utilities<a class="headerlink" href="#pyomo-utilities" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.safe_pyomo_value">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">safe_pyomo_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdom/common/utilities.html#safe_pyomo_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.safe_pyomo_value" title="Link to this definition">#</a></dt>
<dd><p>Safely extract the value from a Pyomo variable or expression.</p>
<p>This function attempts to retrieve the value of a Pyomo variable or expression
after optimization. It handles cases where the variable may be uninitialized or None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>var</strong> – A Pyomo variable, expression, or parameter from which to extract the value.
Can be None.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The numeric value of the variable/expression if it is initialized and not None,
otherwise returns None.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is essential when collecting results from solved models, as it
prevents ValueErrors when accessing uninitialized or optional model components.</p>
</dd></dl>

</section>
<section id="file-utilities">
<h2>File Utilities<a class="headerlink" href="#file-utilities" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.check_file_exists">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">check_file_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdom/common/utilities.html#check_file_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.check_file_exists" title="Link to this definition">#</a></dt>
<dd><p>Verify that a required input file exists in the specified directory.</p>
<p>This function searches for a file using flexible name matching via get_complete_path()
and raises an informative error if the file is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Directory path where the file should be located.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Filename to search for (typically a CSV file).</p></li>
<li><p><strong>file_description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Human-readable description of the file’s
purpose, used in error messages. Defaults to empty string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Complete path to the verified file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.14)"><strong>FileNotFoundError</strong></a> – If the specified file cannot be found in the directory,
    with an error message including the file description.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function logs an error message before raising the exception to help
with debugging input data configuration issues.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.get_complete_path">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">get_complete_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdom/common/utilities.html#get_complete_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.get_complete_path" title="Link to this definition">#</a></dt>
<dd><p>Search for a CSV file in a directory using flexible name matching.</p>
<p>This function performs case-insensitive matching of CSV filenames, ignoring
spaces, hyphens, and underscores. It searches the specified directory for a
file that matches the base_name pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Directory path where the file should be located.</p></li>
<li><p><strong>file_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Base filename to search for (should include .csv extension).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Complete path to the matched file if found, otherwise an empty string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Only searches for files with .csv extension. Uses normalize_string() for
flexible matching to handle variations in input file naming conventions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.normalize_string">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">normalize_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/sdom/common/utilities.html#normalize_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.normalize_string" title="Link to this definition">#</a></dt>
<dd><p>Normalize a string for case-insensitive filename comparison.</p>
<p>Removes spaces, hyphens, and underscores from the input string and converts
it to lowercase. This function is used to match CSV filenames flexibly,
ignoring common formatting variations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The string to normalize (typically a filename or identifier).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The normalized string with spaces, hyphens, and underscores removed,</dt><dd><p>converted to lowercase.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)">str</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_string</span><span class="p">(</span><span class="s2">&quot;Load_hourly-2025.csv&quot;</span><span class="p">)</span>
<span class="go">&#39;loadhourly2025.csv&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="data-utilities">
<h2>Data Utilities<a class="headerlink" href="#data-utilities" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.compare_lists">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">compare_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_comp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['',</span> <span class="pre">'']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdom/common/utilities.html#compare_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.compare_lists" title="Link to this definition">#</a></dt>
<dd><p>Compare two lists for consistency in length and elements.</p>
<p>Validates that two lists have the same length and contain the same elements,
logging warnings for any discrepancies. Used to verify consistency between
related datasets (e.g., capacity factors vs. CAPEX data for the same plants).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – First list to compare.</p></li>
<li><p><strong>list2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – Second list to compare.</p></li>
<li><p><strong>text_comp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Description of what is being compared, used in
warning messages. Defaults to empty string.</p></li>
<li><p><strong>list_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Two-element list containing names/labels
for the lists being compared (e.g., [‘CF’, ‘Capex’]). Defaults to [‘’, ‘’].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if lists have the same length and elements, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)">bool</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Uses set comparison to check for element equality, so order is ignored.
Logs warnings via logging module when discrepancies are found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.concatenate_dataframes">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">concatenate_dataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_data_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'$US'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sdom/common/utilities.html#concatenate_dataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.concatenate_dataframes" title="Link to this definition">#</a></dt>
<dd><p>Append optimization results from a dictionary to an existing DataFrame.</p>
<p>This function converts a dictionary of results into a DataFrame row and appends
it to the existing DataFrame with additional metadata columns (Run, Unit, Metric).
Used for collecting results across multiple optimization runs or scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The DataFrame to which the new data will be appended.</p></li>
<li><p><strong>new_data_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a>) – Dictionary containing technology names as keys and
optimal values as values (e.g., {‘Li-Ion’: 1250.5, ‘CAES’: 800.0}).</p></li>
<li><p><strong>run</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Run or scenario identifier. Defaults to 1.</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Unit of measurement for the values. Defaults to ‘$US’.</p></li>
<li><p><strong>metric</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>optional</em>) – Metric name or description (e.g., ‘Capacity’, ‘Cost’).
Defaults to empty string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Updated DataFrame with the new row(s) appended, containing</dt><dd><p>columns: [‘Technology’, ‘Optimal Value’, ‘Run’, ‘Unit’, ‘Metric’].</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The new_data_dict is pivoted so each key becomes a separate row in the
resulting DataFrame, all sharing the same Run, Unit, and Metric values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sdom.common.utilities.get_dict_string_void_list_from_keys_in_list">
<span class="sig-prename descclassname"><span class="pre">sdom.common.utilities.</span></span><span class="sig-name descname"><span class="pre">get_dict_string_void_list_from_keys_in_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="../_modules/sdom/common/utilities.html#get_dict_string_void_list_from_keys_in_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sdom.common.utilities.get_dict_string_void_list_from_keys_in_list" title="Link to this definition">#</a></dt>
<dd><p>Create a dictionary with string keys mapped to empty lists.</p>
<p>Generates a dictionary where each element from the input list becomes a string
key associated with an empty list value. Used for initializing result containers
that will be populated during model execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a>) – List of items to use as dictionary keys (typically plant IDs
or technology identifiers).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dictionary with string-converted keys from the input list, each mapped</dt><dd><p>to an empty list.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_dict_string_void_list_from_keys_in_list</span><span class="p">([</span><span class="mi">101</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">303</span><span class="p">])</span>
<span class="go">{&#39;101&#39;: [], &#39;202&#39;: [], &#39;303&#39;: []}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Link to this heading">#</a></h2>
<p>Key constants defined in <code class="docutils literal notranslate"><span class="pre">sdom.constants</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sdom.constants</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">MW_TO_KW</span><span class="p">,</span>                                      <span class="c1"># 1000.0</span>
    <span class="n">INPUT_CSV_NAMES</span><span class="p">,</span>                               <span class="c1"># Dict of CSV filenames</span>
    <span class="n">VALID_HYDRO_FORMULATIONS_TO_BUDGET_MAP</span><span class="p">,</span>       <span class="c1"># Hydro formulation types</span>
    <span class="n">VALID_IMPORTS_EXPORTS_FORMULATIONS_TO_DESCRIPTION_MAP</span><span class="p">,</span>  <span class="c1"># Trade formulations</span>
<span class="p">)</span>
</pre></div>
</div>
<section id="unit-conversion">
<h3>Unit Conversion<a class="headerlink" href="#unit-conversion" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MW_TO_KW</span> <span class="pre">=</span> <span class="pre">1000.0</span></code>: Conversion factor from MW to kW</p></li>
</ul>
</section>
<section id="input-file-names">
<h3>Input File Names<a class="headerlink" href="#input-file-names" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">INPUT_CSV_NAMES</span></code> dictionary maps logical names to expected filenames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;formulations&#39;</span><span class="p">:</span> <span class="s1">&#39;formulations.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;load_data&#39;</span><span class="p">:</span> <span class="s1">&#39;Load_hourly.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;nuclear_data&#39;</span><span class="p">:</span> <span class="s1">&#39;Nucl_hourly.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;large_hydro_data&#39;</span><span class="p">:</span> <span class="s1">&#39;lahy_hourly.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cf_solar&#39;</span><span class="p">:</span> <span class="s1">&#39;CFSolar.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cf_wind&#39;</span><span class="p">:</span> <span class="s1">&#39;CFWind.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cap_solar&#39;</span><span class="p">:</span> <span class="s1">&#39;CapSolar.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cap_wind&#39;</span><span class="p">:</span> <span class="s1">&#39;CapWind.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;storage_data&#39;</span><span class="p">:</span> <span class="s1">&#39;StorageData.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;thermal_data&#39;</span><span class="p">:</span> <span class="s1">&#39;Data_BalancingUnits.csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;scalars&#39;</span><span class="p">:</span> <span class="s1">&#39;scalars.csv&#39;</span><span class="p">,</span>
    <span class="c1"># ... and more</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="hydro-formulations">
<h3>Hydro Formulations<a class="headerlink" href="#hydro-formulations" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">VALID_HYDRO_FORMULATIONS_TO_BUDGET_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;MonthlyBudgetFormulation&quot;</span><span class="p">:</span> <span class="mi">730</span><span class="p">,</span>   <span class="c1"># Hours per month (approx)</span>
    <span class="s2">&quot;DailyBudgetFormulation&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>      <span class="c1"># Hours per day</span>
    <span class="s2">&quot;RunOfRiverFormulation&quot;</span><span class="p">:</span> <span class="mi">1</span>         <span class="c1"># No aggregation</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="import-export-formulations">
<h3>Import/Export Formulations<a class="headerlink" href="#import-export-formulations" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">VALID_IMPORTS_EXPORTS_FORMULATIONS_TO_DESCRIPTION_MAP</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;NotModel&quot;</span><span class="p">:</span> <span class="s2">&quot;No imports/exports considered&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CapacityPriceNetLoadFormulation&quot;</span><span class="p">:</span> <span class="s2">&quot;Price-based import/export optimization&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading">#</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sdom.common.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">safe_pyomo_value</span><span class="p">,</span> <span class="n">compare_lists</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sdom.constants</span><span class="w"> </span><span class="kn">import</span> <span class="n">MW_TO_KW</span>

<span class="c1"># Safely extract variable values</span>
<span class="n">total_cost</span> <span class="o">=</span> <span class="n">safe_pyomo_value</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">Obj</span><span class="o">.</span><span class="n">expr</span><span class="p">)</span>
<span class="n">wind_capacity</span> <span class="o">=</span> <span class="n">safe_pyomo_value</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">wind</span><span class="o">.</span><span class="n">total_installed_capacity</span><span class="p">)</span>

<span class="c1"># Convert units</span>
<span class="n">wind_capacity_kw</span> <span class="o">=</span> <span class="n">wind_capacity</span> <span class="o">*</span> <span class="n">MW_TO_KW</span>

<span class="c1"># Compare plant lists</span>
<span class="n">solar_cf_plants</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">]</span>
<span class="n">solar_capex_plants</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;101&#39;</span><span class="p">,</span> <span class="s1">&#39;102&#39;</span><span class="p">,</span> <span class="s1">&#39;103&#39;</span><span class="p">]</span>
<span class="n">compare_lists</span><span class="p">(</span><span class="n">solar_cf_plants</span><span class="p">,</span> <span class="n">solar_capex_plants</span><span class="p">,</span> 
              <span class="n">text_comp</span><span class="o">=</span><span class="s1">&#39;solar plants&#39;</span><span class="p">,</span>
              <span class="n">list_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CF&#39;</span><span class="p">,</span> <span class="s1">&#39;CAPEX&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="io_manager.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data I/O Manager</p>
      </div>
    </a>
    <a class="right-next"
       href="_autosummary/sdom.load_data.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">sdom.load_data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pyomo-utilities">Pyomo Utilities</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.safe_pyomo_value"><code class="docutils literal notranslate"><span class="pre">safe_pyomo_value()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-utilities">File Utilities</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.check_file_exists"><code class="docutils literal notranslate"><span class="pre">check_file_exists()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.get_complete_path"><code class="docutils literal notranslate"><span class="pre">get_complete_path()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.normalize_string"><code class="docutils literal notranslate"><span class="pre">normalize_string()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-utilities">Data Utilities</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.compare_lists"><code class="docutils literal notranslate"><span class="pre">compare_lists()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.concatenate_dataframes"><code class="docutils literal notranslate"><span class="pre">concatenate_dataframes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdom.common.utilities.get_dict_string_void_list_from_keys_in_list"><code class="docutils literal notranslate"><span class="pre">get_dict_string_void_list_from_keys_in_list()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#constants">Constants</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unit-conversion">Unit Conversion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-file-names">Input File Names</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hydro-formulations">Hydro Formulations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-export-formulations">Import/Export Formulations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-usage">Example Usage</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/utilities.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, NREL SDOM Team.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>